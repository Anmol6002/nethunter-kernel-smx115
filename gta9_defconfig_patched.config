# =============================
# === NetHunter Essentials ===
# =============================

CONFIG_MODULES=y
CONFIG_MODULE_UNLOAD=y
CONFIG_MODULE_FORCE_UNLOAD=y
CONFIG_MODVERSIONS=y
CONFIG_SYSVIPC=y
CONFIG_UNIX=y
CONFIG_INET=y
CONFIG_PACKET=y
CONFIG_DEFAULT_HOSTNAME="kali"
CONFIG_LOCALVERSION="-nethunter"

CONFIG_KALLSYMS=y
CONFIG_KALLSYMS_ALL=y
CONFIG_KALLSYMS_BASE_RELATIVE=y
CONFIG_BPF_SYSCALL=y
CONFIG_BPF=y
CONFIG_PROC_FS=y
CONFIG_PROC_SYSCTL=y
CONFIG_SYSFS=y
CONFIG_TMPFS=y
CONFIG_TMPFS_POSIX_ACL=y

# ==========================================
# ===  Init.d NetHunter module support ===
# ==========================================

CONFIG_INITRAMFS_SOURCE=""
CONFIG_ANDROID_INIT_PROCESS_NAME="init"

# =============================
# === Wireless Networking ===
# =============================

CONFIG_WIRELESS=y
CONFIG_CFG80211=y
CONFIG_CFG80211_WEXT=y
CONFIG_CFG80211_CRDA_SUPPORT=y
CONFIG_CFG80211_CERTIFICATION_ONUS=y
CONFIG_CFG80211_DEBUGFS=y

CONFIG_NL80211_TESTMODE=y

CONFIG_MAC80211=y
CONFIG_MAC80211_MESH=y
CONFIG_MAC80211_RC_MINSTREL=y
CONFIG_MAC80211_RC_MINSTREL_HT=y
CONFIG_MAC80211_RC_MINSTREL_VHT=y
CONFIG_MAC80211_RC_DEFAULT_MINSTREL=y
CONFIG_MAC80211_RC_DEFAULT="minstrel_ht"
CONFIG_MAC80211_DEBUGFS=y

CONFIG_WIRELESS_EXT=y
CONFIG_WIRELESS_EXT_SYSFS=y
CONFIG_WEXT_CORE=y
CONFIG_WEXT_PROC=y

# =============================
# === Netfilter / Firewall ===
# =============================

CONFIG_NETFILTER=y
CONFIG_NETFILTER_ADVANCED=y
CONFIG_NF_CONNTRACK=y
CONFIG_NF_CONNTRACK_IPV4=y
CONFIG_NF_NAT=y
CONFIG_NF_NAT_IPV4=y
CONFIG_NF_NAT_IPV6=m
CONFIG_NF_REJECT_IPV4=y
CONFIG_NF_REJECT_IPV6=y
CONFIG_IP_NF_IPTABLES=y
CONFIG_IP_NF_FILTER=y
CONFIG_IP_NF_TARGET_REJECT=y
CONFIG_IP_NF_MANGLE=y
CONFIG_IP_NF_NAT=y
CONFIG_IP6_NF_NAT=m
CONFIG_IP6_NF_TARGET_MASQUERADE=m

CONFIG_NETFILTER_XTABLES=y
CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
CONFIG_NETFILTER_XT_MATCH_STATE=y
CONFIG_NETFILTER_XT_MATCH_MAC=y
CONFIG_NETFILTER_XT_MATCH_MULTIPORT=y
CONFIG_NETFILTER_XT_MATCH_TCPMSS=y
CONFIG_NETFILTER_XT_MATCH_COMMENT=y
CONFIG_NETFILTER_XT_MATCH_LENGTH=y
CONFIG_NETFILTER_XT_MATCH_ADDRTYPE=y
CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
CONFIG_NETFILTER_XT_MATCH_OWNER=y
CONFIG_NETFILTER_XT_MATCH_PKTTYPE=y
CONFIG_NETFILTER_XT_MATCH_LIMIT=y
CONFIG_NETFILTER_XT_MATCH_DSCP=y
CONFIG_NETFILTER_XT_MATCH_QUOTA=y
CONFIG_NETFILTER_XT_MATCH_TIME=y
CONFIG_NETFILTER_XT_MATCH_U32=y
CONFIG_NETFILTER_XT_MATCH_CLUSTER=y
CONFIG_NETFILTER_XT_MATCH_SOCKET=y
CONFIG_NETFILTER_XT_MATCH_PHYSDEV=y

CONFIG_NETFILTER_XT_TARGET_CHECKSUM=y
CONFIG_NETFILTER_XT_TARGET_LOG=y
CONFIG_NETFILTER_XT_TARGET_NFLOG=y
CONFIG_NETFILTER_XT_TARGET_NFQUEUE=y
CONFIG_NETFILTER_XT_TARGET_TPROXY=y
CONFIG_NETFILTER_XT_TARGET_MARK=y
CONFIG_NETFILTER_XT_TARGET_TCPMSS=y
CONFIG_NETFILTER_XT_TARGET_REDIRECT=y
CONFIG_NETFILTER_XT_TARGET_NETMAP=y
CONFIG_NETFILTER_XT_TARGET_NOTRACK=y
CONFIG_NETFILTER_XT_TARGET_CLASSIFY=y

CONFIG_NETFILTER_NETLINK=y
CONFIG_NETFILTER_NETLINK_LOG=y
CONFIG_NETFILTER_NETLINK_QUEUE=y

# =============================
# === Android Specific ===
# =============================

CONFIG_ANDROID_BINDER_IPC=y
CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
CONFIG_ASHMEM=y
CONFIG_USERFAULTFD=y
CONFIG_ANDROID_PARANOID_NETWORK=n

# =============================
# === USB Gadget / OTG ===
# =============================

CONFIG_USB_GADGET=y
CONFIG_USB_OTG=y
CONFIG_USB_OTG_FSM=y
CONFIG_USB_LIBCOMPOSITE=y
CONFIG_USB_U_SERIAL=y
CONFIG_USB_STORAGE=y

# Core USB Gadget Framework

CONFIG_USB_GADGET_VBUS_DRAW=500
CONFIG_USB_GADGET_STORAGE_NUM_BUFFERS=2
CONFIG_USB_GADGETFS=m

# USB ConfigFS functions

CONFIG_USB_CONFIGFS=y
CONFIG_USB_CONFIGFS_SERIAL=y
CONFIG_USB_CONFIGFS_UEVENT=y
CONFIG_USB_CONFIGFS_ACM=y
CONFIG_USB_CONFIGFS_OBEX=y
CONFIG_USB_CONFIGFS_NCM=y
CONFIG_USB_CONFIGFS_ECM=y
CONFIG_USB_CONFIGFS_ECM_SUBSET=y
CONFIG_USB_CONFIGFS_EEM=y
CONFIG_USB_CONFIGFS_RNDIS=y
CONFIG_USB_CONFIGFS_MASS_STORAGE=y
CONFIG_USB_CONFIGFS_F_FS=y
CONFIG_USB_CONFIGFS_F_HID=y
CONFIG_USB_CONFIGFS_F_UAC1=y
CONFIG_USB_CONFIGFS_F_UAC2=y
CONFIG_USB_CONFIGFS_F_MIDI=y
CONFIG_USB_CONFIGFS_F_PRINTER=y
CONFIG_USB_CONFIGFS_F_LB_SS=y
CONFIG_USB_CONFIGFS_F_AUDIO_SRC=y
CONFIG_USB_CONFIGFS_F_UVC=y
CONFIG_USB_CONFIGFS_F_MTP=y
CONFIG_USB_CONFIGFS_F_ACM=y
CONFIG_USB_CONFIGFS_F_OBEX=y

#USB Gadget functions drivers


CONFIG_USB_F_EEM=m
CONFIG_USB_F_NCM=m
CONFIG_USB_F_AUDIO_SRC=m
CONFIG_USB_F_UVC=m
CONFIG_USB_F_FS=y
CONFIG_USB_F_HID=y
CONFIG_USB_F_RNDIS=y
CONFIG_USB_F_ECM=y
CONFIG_USB_F_ACM=y
CONFIG_USB_F_UAC1=y
CONFIG_USB_F_UAC2=y
CONFIG_USB_F_MIDI=y
CONFIG_USB_F_PRINTER=y
CONFIG_USB_F_MASS_STORAGE=y
CONFIG_USB_F_SS_LB=y


# Debugging support Optional but recommended

CONFIG_USB_GADGET_DEBUG=y
CONFIG_USB_GADGET_DEBUG_FILES=y
CONFIG_USB_GADGET_DEBUG_FS=y

# =============================
# === USB Networking / Serial ===
# =============================

CONFIG_USB_USBNET=y
CONFIG_USB_NET_RNDIS_HOST=y
CONFIG_USB_NET_RNDIS_WLAN=y
CONFIG_USB_NET_CDCETHER=y
CONFIG_USB_NET_CDC_EEM=y
CONFIG_USB_SERIAL=y
CONFIG_USB_SERIAL_GENERIC=y
CONFIG_USB_SERIAL_CONSOLE=y
CONFIG_USB_SERIAL_CH341=y
CONFIG_USB_SERIAL_FTDI_SIO=y
CONFIG_USB_SERIAL_PL2303=y
CONFIG_USB_SERIAL_CP210X=y
CONFIG_USB_ACM=y
CONFIG_USB_RTL8150=y
CONFIG_USB_RTL8152=y
CONFIG_USB_NET_RNDIS=y
CONFIG_USB_NET_SMSC95XX=m
CONFIG_USB_NET_AX8817X=m
CONFIG_USB_NET_RTL8150=m

# Optional additional USB ethernet drivers 

CONFIG_USB_NET_MCS7830=m
CONFIG_USB_NET_NET1080=m
CONFIG_USB_NET_CDC_SUBSET=m
CONFIG_USB_NET_ZAURUS=m

# USB Host not required for gadget, but good to have 

CONFIG_USB_EHCI_HCD=m
CONFIG_USB_EHCI_MSM=m
CONFIG_USB_EHCI_HCD_PLATFORM=m
CONFIG_USB_OHCI_HCD=m
CONFIG_USB_XHCI_HCD=m
CONFIG_USB_XHCI_PLATFORM=m

# Mass Storage for USB storage gadget

CONFIG_BLK_DEV_LOOP=m
CONFIG_SCSI=y
CONFIG_SCSI_MOD=m
CONFIG_BLK_DEV_SD=m
CONFIG_SCSI_MULTI_LUN=y
CONFIG_USB_UAS=m
CONFIG_USB_STORAGE_REALTEK=m

# USB HID Peripheral input 

CONFIG_USB_HIDDEV=y

# Composite Gadget drivers:

CONFIG_USB_ZERO=m
CONFIG_USB_ETH=m
CONFIG_USB_ETH_RNDIS=y
CONFIG_USB_MASS_STORAGE=m
CONFIG_USB_G_SERIAL=m
CONFIG_USB_G_PRINTER=m
CONFIG_USB_G_ACM_MS=m
CONFIG_USB_G_MULTI=m
CONFIG_USB_G_MULTI_RNDIS=y
CONFIG_USB_G_HID=m
CONFIG_USB_G_WEBCAM=m
CONFIG_USB_G_NCM=m
CONFIG_USB_G_AUDIO=m
CONFIG_USB_G_UAC1=m
CONFIG_USB_G_UAC2=m
CONFIG_USB_GADGET_DEBUG_FILES=y

# =============================
# === Bluetooth Support ===
# =============================

CONFIG_BT_HCIBTUSB=y
CONFIG_BT_HCIBTUSB_BCM=y
CONFIG_BT_HCIBTUSB_RTL=y
CONFIG_BT_HCIUART=y
CONFIG_BT_HCIUART_H4=y
CONFIG_BT_HCIBCM203X=y
CONFIG_BT_HCIBPA10X=y
CONFIG_BT_HCIBFUSB=y
CONFIG_BT_HCIVHCI=y

# =============================
# === External WiFi Drivers ===
# =============================

CONFIG_WLAN_VENDOR_REALTEK=y
CONFIG_RTL8187=y
CONFIG_RTL8188EU=y
CONFIG_RTL8192CU=y
CONFIG_RTL8192EU=y
CONFIG_RTL8821AU=m
CONFIG_RTLWIFI=y
CONFIG_RTLWIFI_USB=y
CONFIG_RTL_CARDS=y
CONFIG_RTL8XXXU_UNTESTED=y

CONFIG_WLAN_VENDOR_ATH=y
CONFIG_ATH9K_HTC=y
CONFIG_ATH10K_USB=y
CONFIG_ATH9K_COMMON=y
CONFIG_CARL9170=y
CONFIG_ATH6KL=y
CONFIG_ATH6KL_USB=y

CONFIG_WLAN_VENDOR_MEDIATEK=y
CONFIG_MT7601U=y

CONFIG_WLAN_VENDOR_RALINK=y
CONFIG_RT2X00=y
CONFIG_RT2X00_LIB_USB=y
CONFIG_RT2X00_LIB=y
CONFIG_RT2X00_LIB_FIRMWARE=y
CONFIG_RT2500USB=y
CONFIG_RT73USB=y
CONFIG_RT2800USB=y
CONFIG_RT2800USB_RT33XX=y
CONFIG_RT2800USB_RT35XX=y
CONFIG_RT2800USB_RT3573=y
CONFIG_RT2800USB_RT53XX=y
CONFIG_RT2800USB_RT55XX=y
CONFIG_RT2800USB_UNKNOWN=y

CONFIG_WLAN_VENDOR_ZYDAS=y
CONFIG_USB_ZD1201=y
CONFIG_ZD1211RW=y

# =============================
# === SDR / TV Support ===
# =============================

CONFIG_MEDIA_DIGITAL_TV_SUPPORT=y
CONFIG_MEDIA_SDR_SUPPORT=y
CONFIG_MEDIA_USB_SUPPORT=y
CONFIG_USB_AIRSPY=y
CONFIG_USB_HACKRF=y
CONFIG_USB_MSI2500=y
CONFIG_DVB_RTL2830=y
CONFIG_DVB_RTL2832=y
CONFIG_DVB_RTL2832_SDR=y
CONFIG_DVB_SI2168=y
CONFIG_DVB_ZD1301_DEMOD=y
CONFIG_MEDIA_SUBDRV_AUTOSELECT=n
CONFIG_MEDIA_SUPPORT=y
CONFIG_MEDIA_CONTROLLER=y
CONFIG_MEDIA_CONTROLLER_DVB=y
CONFIG_VIDEO_DEV=y
CONFIG_VIDEOBUF2_CORE=y
CONFIG_VIDEOBUF2_V4L2=y
CONFIG_VIDEOBUF2_VMALLOC=y
CONFIG_DVB_USB=y
CONFIG_DVB_USB_RTL28XXU=y
CONFIG_DVB_USB_V2=y
CONFIG_DVB_USB_MSI2500=y
CONFIG_SDR_MAX2175=y
CONFIG_RADIO_SI470X=y
CONFIG_RADIO_SI4713=y

# =============================
# === NFS / File Sharing ===
# =============================

CONFIG_NETWORK_FILESYSTEMS=y
CONFIG_NFS_V2=y
CONFIG_NFS_V3=y
CONFIG_NFS_V4=y
CONFIG_NFSD=y
CONFIG_NFSD_V3=y
CONFIG_NFSD_V4=y
CONFIG_EXPORTFS=y
CONFIG_NFS_FS=y
CONFIG_NFS_V4_1=y
CONFIG_NFS_V4_2=y
CONFIG_NFS_SWAP=y
CONFIG_NFS_USE_KERNEL_DNS=y
CONFIG_NFS_USE_LEGACY_DNS=y
CONFIG_LOCKD=y
CONFIG_LOCKD_V4=y
CONFIG_NFS_ACL_SUPPORT=y
CONFIG_NFS_FSCACHE=y
CONFIG_ROOT_NFS=y
CONFIG_SUNRPC=y
CONFIG_RPCSEC_GSS_KRB5=y
CONFIG_NFSD=y
CONFIG_NFSD_V3=y
CONFIG_NFSD_V4=y
CONFIG_NFSD_PNFS=y
CONFIG_NFSD_SCSILAYOUT=y
CONFIG_NFSD_FLEXFILELAYOUT=y
CONFIG_NFSD_BLOCKLAYOUT=y
CONFIG_NFSD_V4_SECURITY_LABEL=y

# =============================
# === CAN Bus Support ===
# =============================

CONFIG_CAN=y
CONFIG_CAN_RAW=y
CONFIG_CAN_BCM=y
CONFIG_CAN_GW=y
CONFIG_CAN_NETLINK=y
CONFIG_CAN_CALC_BITTIMING=y
CONFIG_CAN_LEDS=y
CONFIG_CAN_DEV=y
CONFIG_CAN_VCAN=y
CONFIG_CAN_SLCAN=m
CONFIG_CAN_PEAK_USB=y
CONFIG_CAN_KVASER_USB=y
CONFIG_CAN_GS_USB=y
CONFIG_CAN_8DEV_USB=y
CONFIG_CAN_EMS_USB=y
CONFIG_CAN_ESD_USB2=y
CONFIG_CAN_CAN327=m
CONFIG_CAN_ISOTP=m
CONFIG_CAN_HLUSB=m
CONFIG_CAN_HI311X=y
CONFIG_CAN_MCP251X=y
CONFIG_CAN_SJA1000=y
CONFIG_CAN_C_CAN=y
CONFIG_CAN_CC770=y
CONFIG_CAN_M_CAN=y
CONFIG_CAN_FLEXCAN=y
CONFIG_CAN_SOFTING=y
CONFIG_CAN_XILINXCAN=y
CONFIG_CAN_GRCAN=y
CONFIG_NET_SCH_CANID=y
CONFIG_NET_SCHED=y
CONFIG_CAN_IFI_CANFD=y
CONFIG_USB_CAN_2=m
CONFIG_CAN_USB_CAN_2_MODULE=m
CONFIG_CAN_RX_OFFLOAD=y

# =============================
# === HID / Input Devices ===
# =============================

CONFIG_INPUT=y
CONFIG_INPUT_MISC=y
CONFIG_INPUT_UINPUT=y
CONFIG_HID=y
CONFIG_HID_GENERIC=y
CONFIG_HIDRAW=y
CONFIG_HID_GFRM=y
CONFIG_HID_A4TECH=y
CONFIG_HID_APPLE=y
CONFIG_HID_BELKIN=y
CONFIG_HID_CHERRY=y
CONFIG_HID_CHICONY=y
CONFIG_HID_PRODIKEYS=y
CONFIG_HID_LOGITECH=y
CONFIG_HID_MICROSOFT=y
CONFIG_HID_MULTITOUCH=y
CONFIG_HID_SONY=y
CONFIG_HID_PLANTRONICS=y
CONFIG_HID_PRIMAX=y
CONFIG_HID_ROCCAT=y
CONFIG_HID_ELECOM=y
CONFIG_HID_ZEROPLUS=y

# =============================
# === LXC + Docker Support ===
# =============================

# Namespaces

CONFIG_NAMESPACES=y
CONFIG_UTS_NS=y
CONFIG_USER_NS=y
CONFIG_PID_NS=y
CONFIG_NET_NS=y
CONFIG_IPC_NS=y
CONFIG_SCHED_AUTOGROUP=y
CONFIG_USER_NS_UNPRIVILEGED=y
CONFIG_PID_NS_DISALLOW=y  # if you want to restrict unprivileged namespaces (optional)

# Cgroups

CONFIG_CGROUPS=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_FREEZER=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_CGROUP_SCHED=y
CONFIG_FAIR_GROUP_SCHED=y
CONFIG_CPUSETS=y
CONFIG_CGROUP_PIDS=y
CONFIG_MEMCG=y
CONFIG_MEMCG_SWAP=y
CONFIG_MEMCG_SWAP_ENABLED=y
CONFIG_BLK_CGROUP=y
CONFIG_CGROUP_BPF=y
CONFIG_CGROUP_RDMA=y
CONFIG_CGROUP_MISC=y
CONFIG_CGROUP_HUGETLB=y
CONFIG_CGROUP_DEBUG=y
CONFIG_NET_CLS_CGROUP=y
CONFIG_NETPRIO_CGROUP=y
CONFIG_CGROUP_WRITEBACK=y
CONFIG_PAGE_COUNTER=y
CONFIG_PROC_PID_CPUSET=y
CONFIG_RESOURCE_COUNTERS=y

# =============================
# === Kernel Security ===
# =============================

# Core security features
CONFIG_SECURITY=y
CONFIG_SECURITY_NETWORK=y
CONFIG_SECURITY_NETWORK_XFRM=y
CONFIG_SECURITY_PATH=y

# Seccomp (containers, sandboxing)

CONFIG_SECCOMP=y
CONFIG_SECCOMP_FILTER=y

# SELinux (Android default)

CONFIG_SECURITY_SELINUX=y
CONFIG_SECURITY_SELINUX_BOOTPARAM=y
CONFIG_SECURITY_SELINUX_DISABLE=y

# AppArmor (NetHunter rootfs, optional)

CONFIG_SECURITY_APPARMOR=y
CONFIG_SECURITY_APPARMOR_HASH=y
CONFIG_SECURITY_APPARMOR_EXPORT_BINARY=y

# Security Filesystem for AppArmor/SELinux

CONFIG_SECURITYFS=y

# LSM ordering

CONFIG_LSM="yama,apparmor,selinux"

# Default LSM (optional if CONFIG_LSM exists)
# CONFIG_DEFAULT_SECURITY="selinux" —> REMOVE if using CONFIG_LSM
# CONFIG_DEFAULT_SECURITY="apparmor" —> Alternative if AppArmor-first

# Kernel keys (needed for encrypted filesystems, modules, etc.)

CONFIG_KEYS=y
CONFIG_KEYS_REQUEST_CACHE=y
CONFIG_KEY_NOTIFICATIONS=y
CONFIG_PERSISTENT_KEYRINGS=y
CONFIG_BIG_KEYS=y
CONFIG_TRUSTED_KEYS=y
CONFIG_ENCRYPTED_KEYS=y

# Optional (for stronger crypto/integrity support)

CONFIG_CRYPTO_USER=y
CONFIG_CRYPTO_MANAGER=y
CONFIG_INTEGRITY=y
CONFIG_IMA=y
CONFIG_EVM=y
CONFIG_AUDIT=y
CONFIG_AUDITSYSCALL=y

# =============================
# === Container Networking ===
# =============================

CONFIG_VETH=y
CONFIG_DUMMY=y
CONFIG_IPV6=y

# Bridging & VLAN

CONFIG_BRIDGE=y
CONFIG_BRIDGE_NETFILTER=y
CONFIG_BRIDGE_IGMP_SNOOPING=y
CONFIG_VLAN_8021Q=m
CONFIG_LLC=m
CONFIG_STP=m

# MAC and tunnel networking

CONFIG_MACVLAN=y
CONFIG_MACVTAP=y           # RECOMMENDED – used in advanced LXC/Nat configs

# Network Virtualization

CONFIG_VXLAN=y
CONFIG_GENEVE=y
CONFIG_NET_VRF=y           # RECOMMENDED – allows multiple virtual routing domains

# IP Virtual Server (load balancing)
CONFIG_IP_VS=y
CONFIG_IP_VS_PROTO_TCP=y   # REQUIRED by IP_VS
CONFIG_IP_VS_PROTO_UDP=y   # REQUIRED by IP_VS
CONFIG_IP_VS_PROTO_AH_ESP=y
CONFIG_IP_VS_PROTO_ESP=y
CONFIG_IP_VS_RR=y          # Round Robin scheduler
CONFIG_IP_VS_WRR=y         # Weighted Round Robin scheduler
CONFIG_IP_VS_LC=y          # Least-Connection scheduler
CONFIG_IP_VS_WLC=y         # Weighted Least-Connection scheduler

# =============================
# === Runtime Interfaces ===
# =============================

CONFIG_EPOLL=y
CONFIG_SIGNALFD=y
CONFIG_TIMERFD=y
CONFIG_EVENTFD=y
CONFIG_DEVPTS_MULTIPLE_INSTANCES=y

# vsock (used in some container & virtualized setups)

CONFIG_VSOCKETS=y
CONFIG_VSOCKETS_LOOPBACK=y

# Netlink socket diagnostics

CONFIG_NETLINK_DIAG=y
CONFIG_PACKET_DIAG=y
CONFIG_UNIX_DIAG=y

# For container migration (CRIU) support

CONFIG_CHECKPOINT_RESTORE=y
CONFIG_PROC_CHILDREN=y
CONFIG_FHANDLE=y

# Required for /proc/<pid>/fd and debugging

CONFIG_PROC_FS=y
CONFIG_PROC_PID_CPUSET=y
CONFIG_PROC_SELF_MEM=y
CONFIG_PROC_PAGE_MONITOR=y

# =============================
# === Filesystems (Fixed) ===
# =============================

# Core Linux filesystems

CONFIG_OVERLAY_FS=y
CONFIG_TMPFS=y
CONFIG_TMPFS_POSIX_ACL=y
CONFIG_EXT4_FS=y
CONFIG_EXT4_FS_POSIX_ACL=y
CONFIG_EXT4_FS_SECURITY=y

# Flash-optimized filesystems

CONFIG_F2FS_FS=y
CONFIG_F2FS_FS_ENCRYPTION=y
CONFIG_F2FS_FS_SECURITY=y
CONFIG_BTRFS_FS=y

# USB and SD card filesystems

CONFIG_VFAT_FS=y
CONFIG_FAT_DEFAULT_UTF8=y
CONFIG_MSDOS_FS=y
CONFIG_EXFAT_FS=y
CONFIG_NTFS_FS=y
CONFIG_NTFS_RW=y                 # ⚠️ Optional: allow write access to NTFS

# SquashFS for rootfs/layers

CONFIG_SQUASHFS=y
CONFIG_SQUASHFS_XZ=y
CONFIG_SQUASHFS_LZO=y
CONFIG_SQUASHFS_LZ4=y
CONFIG_SQUASHFS_ZSTD=y

# FUSE & related filesystems (NetHunter & external apps use FUSE)

CONFIG_FUSE_FS=y
CONFIG_CUSE=y
CONFIG_OVERLAY_FS_REDIRECT_DIR=y

# Optional for container-related mounts (LXC/Proot etc.)

CONFIG_SECURITYFS=y
CONFIG_PROC_FS=y
CONFIG_SYSFS=y
CONFIG_TMPFS_XATTR=y
CONFIG_TMPFS_POSIX_ACL=y

# =============================
# === Swap / Compression ===
# =============================

CONFIG_SWAP=y

# ZRAM core

CONFIG_ZRAM=y
CONFIG_ZSMALLOC=y
CONFIG_ZRAM_MEMORY_TRACKING=y
CONFIG_ZRAM_DEF_COMP_LZORLE=y    # Recommended for speed on ARM
CONFIG_ZRAM_WRITEBACK=y          # Enables ZRAM writeback (optional but powerful)

# Compression algorithms (ensure these are supported by ZRAM)

CONFIG_CRYPTO_LZO=y
CONFIG_CRYPTO_LZ4=y
CONFIG_CRYPTO_LZ4HC=y
CONFIG_CRYPTO_LZORLE=y
CONFIG_CRYPTO_ZSTD=y
CONFIG_CRYPTO_DEFLATE=y

# Optional: frontswap support (not always needed but good to have)

CONFIG_FRONTSWAP=y
CONFIG_CMA=y

# Optional: Compaction / memory management features

CONFIG_COMPACTION=y
CONFIG_PAGE_REPORTING=y
CONFIG_MEMORY_BALLOON=y

# SoC and PMIC Support

CONFIG_MFD_MT6366=y
CONFIG_REGULATOR_MT6366=y
CONFIG_REGMAP_I2C=y
CONFIG_REGMAP_IRQ=y

# Audio

CONFIG_SOUND=y
CONFIG_SND=y
CONFIG_SND_SOC=y
CONFIG_SND_SOC_GENERIC_DMAENGINE_PCM=y
CONFIG_SND_USB_AUDIO=m
CONFIG_SND_USB_UA101=m
CONFIG_SND_USB_CAIAQ=m
CONFIG_SND_USB_CAIAQ_INPUT=y
CONFIG_SND_USB_US122L=m
CONFIG_I2C=y
CONFIG_I2C_MT65XX=y
CONFIG_REGMAP=y
CONFIG_SND_SOC_MT6358=y
CONFIG_SND_SOC_MT6358_ACCDET=y
CONFIG_SND_SOC_MT6366=y
CONFIG_SND_SOC_MT6366_ACCDET=y
CONFIG_SND_SOC_MT6789_MT6366=n
CONFIG_SND_SOC_MT6789=y


# Hardened kernel options for NetHunter

CONFIG_ARCH_MEDIATEK=y
CONFIG_ARCH_GTA9=y
CONFIG_ARM64=y
CONFIG_ARM64_VA_BITS=48
CONFIG_ARCH_SUPPORTS_BIG_ENDIAN=n
CONFIG_ARCH_SUPPORTS_INT128=y
CONFIG_STACKPROTECTOR_STRONG=y
CONFIG_SHUFFLE_PAGE_ALLOCATOR=y
CONFIG_STRICT_KERNEL_RWX=y
CONFIG_STRICT_MODULE_RWX=y
CONFIG_RANDOMIZE_BASE=y
CONFIG_ARM64_BTI=y
CONFIG_ARM64_BTI_KERNEL=y
CONFIG_SHADOW_CALL_STACK=y
CONFIG_CFI_CLANG=y
CONFIG_CFI_CLANG_SHADOW=y
CONFIG_BPF_JIT_ALWAYS_ON=y
CONFIG_BPF_JIT_DEFAULT_ON=y
CONFIG_UBSAN=y
CONFIG_UBSAN_TRAP=y
CONFIG_UBSAN_BOUNDS=y
CONFIG_UBSAN_ALIGNMENT=y
CONFIG_KASAN=y
CONFIG_KASAN_INLINE=y
CONFIG_KASAN_STACK_ENABLE=y
CONFIG_KASAN_VMALLOC=y
CONFIG_CC_HAS_SHADOW_CALL_STACK=n
